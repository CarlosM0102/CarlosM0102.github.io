<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idioma Express: Desaf√≠o Multiling√ºe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
        }
        h1 {
            color: #333;
        }
        #game-container {
            margin: 20px auto;
            width: 80%;
            max-width: 600px;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        #question {
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .options button {
            padding: 10px 20px;
            font-size: 1em;
            margin: 5px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .options button:hover {
            background-color: #0056b3;
        }
        #timer {
            font-size: 1.5em;
            color: #d9534f;
            margin-bottom: 20px;
        }
        #question-timer {
            font-size: 1.2em;
            color: #d9534f;
            margin-bottom: 10px;
        }
        #score {
            font-size: 1.5em;
            color: #28a745;
        }
        #romaji {
            font-size: 0.9em;
            color: #555;
            margin-top: 10px;
        }
        #top-scores {
            margin-top: 20px;
            text-align: left;
        }
        #start-screen {
            font-size: 1.5em;
            color: #333;
        }
        #end-screen {
            margin-top: 20px;
        }
        #end-screen button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 1em;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #end-screen button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <h1>Idioma Express: Desaf√≠o Multiling√ºe</h1>
    <div id="game-container">
        <div id="start-screen">¬øPreparados?</div>
        <div id="timer" style="display: none;">Tiempo restante: 120 segundos</div>
        <div id="question-timer" style="display: none;">Tiempo para responder: 10 segundos</div>
        <div id="question" style="display: none;"></div>
        <div class="options" id="options" style="display: none;"></div>
        <div id="romaji" style="display: none;"></div>
        <div id="score" style="display: none;">Puntos: 0</div>
        <div id="end-screen" style="display: none;">
            <div id="performance-message"></div>
            <button id="retry-btn">Reintentar</button>
            <button id="save-score-btn">Guardar puntuaci√≥n</button>
            <button id="reset-top-btn">Reiniciar TOP</button>
        </div>
        <div id="top-scores">
            <h2>TOP Puntuaciones</h2>
            <ul id="scores-list"></ul>
        </div>
    </div>

    <script>
        const allQuestions = [
            // Preguntas sencillas (50)
            { question: "¬øC√≥mo se dice 'gracias' en japon√©s?", options: ["„ÅÇ„Çä„Åå„Å®„ÅÜ", "„Åì„Çì„Å´„Å°„ÅØ", "„Åï„Çà„ÅÜ„Å™„Çâ", "„Åä„ÅØ„Çà„ÅÜ"], answer: "„ÅÇ„Çä„Åå„Å®„ÅÜ", romaji: "Arigatou" },
            { question: "¬øC√≥mo se dice 'adi√≥s' en ingl√©s?", options: ["hello", "goodbye", "thank you", "please"], answer: "goodbye" },
            { question: "¬øC√≥mo se dice 'comer' en franc√©s?", options: ["boire", "manger", "dormir", "parler"], answer: "manger" },
            { question: "¬øC√≥mo se dice 'feliz' en italiano?", options: ["triste", "felice", "arrabbiato", "contento"], answer: "felice" },
            { question: "¬øC√≥mo se dice 'agua' en japon√©s?", options: ["„Åø„Åö", "„Åä„Å°„ÇÉ", "„Åì„ÇÅ", "„Åï„Åë"], answer: "„Åø„Åö", romaji: "Mizu" },
            { question: "¬øC√≥mo se dice 'hola' en ingl√©s?", options: ["hello", "goodbye", "thank you", "please"], answer: "hello" },
            { question: "¬øC√≥mo se dice 'gato' en japon√©s?", options: ["„ÅÑ„Å¨", "„Å≠„Åì", "„Å®„Çä", "„Åï„Åã„Å™"], answer: "„Å≠„Åì", romaji: "Neko" },
            { question: "¬øC√≥mo se dice 'perro' en ingl√©s?", options: ["cat", "dog", "bird", "fish"], answer: "dog" },
            { question: "¬øC√≥mo se dice 'ma√±ana' en japon√©s?", options: ["„ÅÇ„Åó„Åü", "„Åç„ÅÆ„ÅÜ", "„Åì„Çì„Å∞„Çì", "„ÅÑ„Åæ"], answer: "„ÅÇ„Åó„Åü", romaji: "Ashita" },
            { question: "¬øC√≥mo se dice 'si' en ingl√©s?", options: ["yes", "no", "maybe", "please"], answer: "yes" },
            { question: "¬øC√≥mo se dice 'ir' en japon√©s?", options: ["„ÅÑ„Åè", "„Åü„Åπ„Çã", "„ÅÆ„ÇÄ", "„Åã„ÅÜ"], answer: "„ÅÑ„Åè", romaji: "Iku" },
            { question: "¬øC√≥mo se dice 'ir' en ingl√©s?", options: ["go", "come", "stay", "run"], answer: "go" },
            { question: "¬øC√≥mo se dice 'comprar' en japon√©s?", options: ["„Åã„ÅÜ", "„Åü„Åπ„Çã", "„ÅÆ„ÇÄ", "„ÅÑ„Åè"], answer: "„Åã„ÅÜ", romaji: "Kau" },
            { question: "¬øC√≥mo se dice 'comprar' en ingl√©s?", options: ["buy", "sell", "trade", "rent"], answer: "buy" },
            { question: "¬øC√≥mo se dice 'ver' en japon√©s?", options: ["„Åø„Çã", "„Åç„Åè", "„Åã„ÅÜ", "„ÅÑ„Åè"], answer: "„Åø„Çã", romaji: "Miru" },
            { question: "¬øC√≥mo se dice 'ver' en ingl√©s?", options: ["see", "hear", "buy", "go"], answer: "see" },
            { question: "¬øC√≥mo se dice 'escuchar' en japon√©s?", options: ["„Åø„Çã", "„Åç„Åè", "„Åã„ÅÜ", "„ÅÑ„Åè"], answer: "„Åç„Åè", romaji: "Kiku" },
            { question: "¬øC√≥mo se dice 'escuchar' en ingl√©s?", options: ["see", "hear", "buy", "go"], answer: "hear" },
            { question: "¬øC√≥mo se dice 'saludar' en japon√©s?", options: ["„Åï„Çà„ÅÜ„Å™„Çâ", "„ÅÇ„Çä„Åå„Å®„ÅÜ", "„Åì„Çì„Å´„Å°„ÅØ", "„Åä„ÇÑ„Åô„Åø„Å™„Åï„ÅÑ"], answer: "„Åì„Çì„Å´„Å°„ÅØ", romaji: "Konnichiwa" },
            { question: "¬øC√≥mo se dice 'bienvenido' en italiano?", options: ["arrivederci", "benvenuto", "grazie", "prego"], answer: "benvenuto" },
            { question: "¬øC√≥mo se dice 'amor' en italiano?", options: ["odio", "amore", "pace", "gioia"], answer: "amore" },
            { question: "¬øC√≥mo se dice 'casa' en italiano?", options: ["cane", "casa", "albero", "fiore"], answer: "casa" },
            { question: "¬øC√≥mo se dice '√°rbol' en italiano?", options: ["cane", "casa", "albero", "fiore"], answer: "albero" },
            { question: "¬øC√≥mo se dice 'flor' en italiano?", options: ["cane", "casa", "albero", "fiore"], answer: "fiore" },
            { question: "¬øC√≥mo se dice 'paz' en italiano?", options: ["odio", "amore", "pace", "gioia"], answer: "pace" },
            { question: "¬øC√≥mo se dice 'alegr√≠a' en italiano?", options: ["odio", "amore", "pace", "gioia"], answer: "gioia" },
            { question: "¬øC√≥mo se dice 'adi√≥s' en italiano?", options: ["arrivederci", "benvenuto", "grazie", "prego"], answer: "arrivederci" },
            { question: "¬øC√≥mo se dice 'beber' en japon√©s?", options: ["„Åü„Åπ„Çã", "„ÅÆ„ÇÄ", "„Åã„ÅÜ", "„ÅÑ„Åè"], answer: "„ÅÆ„ÇÄ", romaji: "Nomu" },
            { question: "¬øC√≥mo se dice 'beber' en ingl√©s?", options: ["eat", "drink", "buy", "go"], answer: "drink" },
            { question: "¬øC√≥mo se dice 'comer' en japon√©s?", options: ["„Åü„Åπ„Çã", "„ÅÆ„ÇÄ", "„Åã„ÅÜ", "„ÅÑ„Åè"], answer: "„Åü„Åπ„Çã", romaji: "Taberu" },
            { question: "¬øC√≥mo se dice 'comer' en ingl√©s?", options: ["eat", "drink", "buy", "go"], answer: "eat" },
            { question: "¬øC√≥mo se dice 'cantar' en franc√©s?", options: ["chanter", "danser", "jouer", "√©couter"], answer: "chanter" },
            { question: "¬øC√≥mo se dice 'bailar' en franc√©s?", options: ["chanter", "danser", "jouer", "√©couter"], answer: "danser" },
            { question: "¬øC√≥mo se dice 'jugar' en franc√©s?", options: ["chanter", "danser", "jouer", "√©couter"], answer: "jouer" },
            { question: "¬øC√≥mo se dice 'leer' en franc√©s?", options: ["lire", "√©crire", "parler", "√©couter"], answer: "lire" },
            { question: "¬øC√≥mo se dice 'escribir' en franc√©s?", options: ["lire", "√©crire", "parler", "√©couter"], answer: "√©crire" },
            { question: "¬øC√≥mo se dice 'hablar' en franc√©s?", options: ["dormir", "manger", "boire", "parler"], answer: "parler" },
            { question: "¬øC√≥mo se dice 'dormir' en franc√©s?", options: ["dormir", "manger", "boire", "parler"], answer: "dormir" },
            { question: "¬øC√≥mo se dice 'escuchar' en franc√©s?", options: ["lire", "√©crire", "parler", "√©couter"], answer: "√©couter" },

            // Preguntas intermedias (50)
            { question: "¬øC√≥mo se dice 'hermano mayor' en japon√©s?", options: ["„ÅäÂÖÑ„Åï„Çì", "„ÅäÂßâ„Åï„Çì", "Âºü", "Â¶π"], answer: "„ÅäÂÖÑ„Åï„Çì", romaji: "Onii-san" },
            { question: "¬øC√≥mo se dice 'hermana mayor' en japon√©s?", options: ["„ÅäÂÖÑ„Åï„Çì", "„ÅäÂßâ„Åï„Çì", "Âºü", "Â¶π"], answer: "„ÅäÂßâ„Åï„Çì", romaji: "Onee-san" },
            { question: "¬øC√≥mo se dice 'hermano menor' en japon√©s?", options: ["„ÅäÂÖÑ„Åï„Çì", "„ÅäÂßâ„Åï„Çì", "Âºü", "Â¶π"], answer: "Âºü", romaji: "Otouto" },
            { question: "¬øC√≥mo se dice 'hermana menor' en japon√©s?", options: ["„ÅäÂÖÑ„Åï„Çì", "„ÅäÂßâ„Åï„Çì", "Âºü", "Â¶π"], answer: "Â¶π", romaji: "Imouto" },
            { question: "¬øC√≥mo se dice 'ma√±ana temprano' en japon√©s?", options: ["„ÅÇ„Åï", "„Çà„Çã", "„Å≤„Çã", "„ÅÇ„Åë"], answer: "„ÅÇ„Åï", romaji: "Asa" },
            { question: "¬øC√≥mo se dice 'ayer' en japon√©s?", options: ["„ÅÇ„Åó„Åü", "„Åç„ÅÆ„ÅÜ", "„Åì„Çì„Å∞„Çì", "„ÅÑ„Åæ"], answer: "„Åç„ÅÆ„ÅÜ", romaji: "Kinou" },
            { question: "¬øC√≥mo se dice 'tarde' en japon√©s?", options: ["„ÅÇ„Åï", "„Çà„Çã", "„Å≤„Çã", "„ÅÇ„Åë"], answer: "„Å≤„Çã", romaji: "Hiru" },
            { question: "¬øC√≥mo se dice 'noche' en japon√©s?", options: ["„ÅÇ„Åï", "„Çà„Çã", "„Å≤„Çã", "„ÅÇ„Åë"], answer: "„Çà„Çã", romaji: "Yoru" },
            { question: "¬øC√≥mo se dice 'estrella' en japon√©s?", options: ["„Å§„Åç", "„Åª„Åó", "„Åù„Çâ", "„Åü„ÅÑ„Çà„ÅÜ"], answer: "„Åª„Åó", romaji: "Hoshi" },
            { question: "¬øC√≥mo se dice 'sol' en japon√©s?", options: ["„Å§„Åç", "„Åª„Åó", "„Åù„Çâ", "„Åü„ÅÑ„Çà„ÅÜ"], answer: "„Åü„ÅÑ„Çà„ÅÜ", romaji: "Taiyou" },
            { question: "¬øC√≥mo se dice 'luna' en japon√©s?", options: ["„Å§„Åç", "„Åª„Åó", "„Åù„Çâ", "„Åü„ÅÑ„Çà„ÅÜ"], answer: "„Å§„Åç", romaji: "Tsuki" },
            { question: "¬øC√≥mo se dice 'cielo' en japon√©s?", options: ["„Å§„Åç", "„Åª„Åó", "„Åù„Çâ", "„Åü„ÅÑ„Çà„ÅÜ"], answer: "„Åù„Çâ", romaji: "Sora" },
            { question: "¬øC√≥mo se dice 'monta√±a' en japon√©s?", options: ["„ÇÑ„Åæ", "„ÅÜ„Åø", "„ÇÇ„Çä", "„Åü„Å´"], answer: "„ÇÑ„Åæ", romaji: "Yama" },
            { question: "¬øC√≥mo se dice 'mar' en japon√©s?", options: ["„ÇÑ„Åæ", "„ÅÜ„Åø", "„ÇÇ„Çä", "„Åü„Å´"], answer: "„ÅÜ„Åø", romaji: "Umi" },
            { question: "¬øC√≥mo se dice 'bosque' en japon√©s?", options: ["„ÇÑ„Åæ", "„ÅÜ„Åø", "„ÇÇ„Çä", "„Åü„Å´"], answer: "„ÇÇ„Çä", romaji: "Mori" },
            { question: "¬øC√≥mo se dice 'valle' en japon√©s?", options: ["„ÇÑ„Åæ", "„ÅÜ„Åø", "„ÇÇ„Çä", "„Åü„Å´"], answer: "„Åü„Å´", romaji: "Tani" },
            { question: "¬øC√≥mo se dice 'primavera' en japon√©s?", options: ["„ÅØ„Çã", "„Å™„Å§", "„ÅÇ„Åç", "„Åµ„ÇÜ"], answer: "„ÅØ„Çã", romaji: "Haru" },
            { question: "¬øC√≥mo se dice 'verano' en japon√©s?", options: ["„ÅØ„Çã", "„Å™„Å§", "„ÅÇ„Åç", "„Åµ„ÇÜ"], answer: "„Å™„Å§", romaji: "Natsu" },
            { question: "¬øC√≥mo se dice 'oto√±o' en japon√©s?", options: ["„ÅØ„Çã", "„Å™„Å§", "„ÅÇ„Åç", "„Åµ„ÇÜ"], answer: "„ÅÇ„Åç", romaji: "Aki" },
            { question: "¬øC√≥mo se dice 'invierno' en japon√©s?", options: ["„ÅØ„Çã", "„Å™„Å§", "„ÅÇ„Åç", "„Åµ„ÇÜ"], answer: "„Åµ„ÇÜ", romaji: "Fuyu" },
            { question: "¬øC√≥mo se dice 'tristeza' en italiano?", options: ["felice", "triste", "gioia", "pace"], answer: "triste" },
            { question: "¬øC√≥mo se dice 'enojo' en italiano?", options: ["felice", "triste", "arrabbiato", "pace"], answer: "arrabbiato" },
            { question: "¬øC√≥mo se dice 'sorpresa' en italiano?", options: ["felice", "triste", "sorpresa", "pace"], answer: "sorpresa" },
            { question: "¬øC√≥mo se dice 'esperanza' en italiano?", options: ["felice", "triste", "speranza", "pace"], answer: "speranza" },
            { question: "¬øC√≥mo se dice 'correr r√°pido' en ingl√©s?", options: ["run fast", "walk slow", "jump high", "swim deep"], answer: "run fast" },
            { question: "¬øC√≥mo se dice 'saltar alto' en ingl√©s?", options: ["run fast", "walk slow", "jump high", "swim deep"], answer: "jump high" },
            { question: "¬øC√≥mo se dice 'nadar profundo' en ingl√©s?", options: ["run fast", "walk slow", "jump high", "swim deep"], answer: "swim deep" },
            { question: "¬øC√≥mo se dice 'caminar lento' en ingl√©s?", options: ["run fast", "walk slow", "jump high", "swim deep"], answer: "walk slow" },
            { question: "¬øC√≥mo se dice 'comida deliciosa' en franc√©s?", options: ["nourriture d√©licieuse", "boisson froide", "musique douce", "livre int√©ressant"], answer: "nourriture d√©licieuse" },
            { question: "¬øC√≥mo se dice 'bebida fr√≠a' en franc√©s?", options: ["nourriture d√©licieuse", "boisson froide", "musique douce", "livre int√©ressant"], answer: "boisson froide" },
            { question: "¬øC√≥mo se dice 'm√∫sica suave' en franc√©s?", options: ["nourriture d√©licieuse", "boisson froide", "musique douce", "livre int√©ressant"], answer: "musique douce" },
            { question: "¬øC√≥mo se dice 'libro interesante' en franc√©s?", options: ["nourriture d√©licieuse", "boisson froide", "musique douce", "livre int√©ressant"], answer: "livre int√©ressant" }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 120;
        let timer;
        let questionTimer;
        let questionTimeLeft = 10;

        const startScreen = document.getElementById("start-screen");
        const gameContainer = document.getElementById("game-container");
        const questionElement = document.getElementById("question");
        const optionsElement = document.getElementById("options");
        const romajiElement = document.getElementById("romaji");
        const scoreElement = document.getElementById("score");
        const timerElement = document.getElementById("timer");
        const questionTimerElement = document.getElementById("question-timer");
        const endScreen = document.getElementById("end-screen");
        const performanceMessage = document.getElementById("performance-message");
        const retryBtn = document.getElementById("retry-btn");
        const saveScoreBtn = document.getElementById("save-score-btn");
        const resetTopBtn = document.getElementById("reset-top-btn");
        const scoresList = document.getElementById("scores-list");

        let topScores = JSON.parse(localStorage.getItem("topScores")) || [];

        function updateTopScores() {
            scoresList.innerHTML = "";
            topScores.forEach((score, index) => {
                const li = document.createElement("li");
                li.textContent = `${index + 1}. ${score} puntos`;
                scoresList.appendChild(li);
            });
        }

        function showStartMessages() {
            const messages = ["¬øPreparados?", "¬øListos!", "¬°Vamos!"];
            let index = 0;

            const interval = setInterval(() => {
                startScreen.textContent = messages[index];
                index++;

                if (index >= messages.length) {
                    clearInterval(interval);
                    startCountdown();
                }
            }, 1500); // Cambiar mensaje cada 1.5 segundos
        }

        function startCountdown() {
            let countdown = 5;
            startScreen.textContent = `El juego comenzar√° en ${countdown}...`;

            const interval = setInterval(() => {
                countdown--;
                startScreen.textContent = `El juego comenzar√° en ${countdown}...`;

                if (countdown <= 0) {
                    clearInterval(interval);
                    startGame();
                }
            }, 1000);
        }

        function startGame() {
            startScreen.style.display = "none";
            timerElement.style.display = "block";
            questionTimerElement.style.display = "block";
            questionElement.style.display = "block";
            optionsElement.style.display = "block";
            romajiElement.style.display = "block";
            scoreElement.style.display = "block";

            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 120;
            scoreElement.textContent = `Puntos: ${score}`;
            loadQuestion();
            startTimer();
        }

        function loadQuestion() {
            clearTimeout(questionTimer); // Limpiar el temporizador de la pregunta anterior
            questionTimeLeft = 10; // Reiniciar el tiempo para responder
            questionTimerElement.textContent = `Tiempo para responder: ${questionTimeLeft} segundos`;

            if (currentQuestionIndex < questions.length && timeLeft > 0) {
                const currentQuestion = questions[currentQuestionIndex];
                questionElement.textContent = currentQuestion.question;
                optionsElement.innerHTML = "";
                romajiElement.textContent = currentQuestion.romaji ? `Romaji: ${currentQuestion.romaji}` : "";

                currentQuestion.options.forEach(option => {
                    const button = document.createElement("button");
                    button.textContent = option;
                    button.addEventListener("click", () => checkAnswer(option));
                    optionsElement.appendChild(button);
                });

                // Temporizador para pasar a la siguiente pregunta despu√©s de 10 segundos
                questionTimer = setInterval(() => {
                    questionTimeLeft--;
                    questionTimerElement.textContent = `Tiempo para responder: ${questionTimeLeft} segundos`;

                    if (questionTimeLeft <= 0) {
                        clearInterval(questionTimer);
                        currentQuestionIndex++;
                        loadQuestion();
                    }
                }, 1000);
            } else {
                endGame();
            }
        }

        function checkAnswer(selectedOption) {
            clearInterval(questionTimer); // Detener el temporizador de la pregunta actual
            const correctAnswer = questions[currentQuestionIndex].answer;

            if (selectedOption === correctAnswer) {
                score++;
                scoreElement.textContent = `Puntos: ${score}`;
            }

            currentQuestionIndex++;
            loadQuestion();
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = `Tiempo restante: ${timeLeft} segundos`;

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            clearInterval(timer);
            clearInterval(questionTimer); // Asegurarse de que no haya un temporizador activo
            questionElement.style.display = "none";
            optionsElement.style.display = "none";
            romajiElement.style.display = "none";
            timerElement.style.display = "none";
            questionTimerElement.style.display = "none";
            endScreen.style.display = "block";

            const performanceMessages = [
                "¬°Excelente trabajo! üéâ",
                "¬°Bien hecho! üí™",
                "¬°No est√° mal! üòä",
                "¬°Puedes mejorar! üòÖ",
                "¬°Sigue practicando! üí°"
            ];
            let messageIndex = Math.min(Math.floor(score / 20), performanceMessages.length - 1);
            performanceMessage.textContent = performanceMessages[messageIndex];

            retryBtn.onclick = () => {
                endScreen.style.display = "none";
                startScreen.style.display = "block";
                showStartMessages();
            };

            saveScoreBtn.onclick = () => {
                topScores.push(score);
                topScores.sort((a, b) => b - a); // Ordenar de mayor a menor
                localStorage.setItem("topScores", JSON.stringify(topScores));
                updateTopScores();
            };

            resetTopBtn.onclick = () => {
                topScores = [];
                localStorage.removeItem("topScores");
                updateTopScores();
            };

            updateTopScores();
        }

        // Seleccionar 100 preguntas aleatorias
        const questions = [];
        while (questions.length < 100 && questions.length < allQuestions.length) {
            const randomIndex = Math.floor(Math.random() * allQuestions.length);
            if (!questions.includes(allQuestions[randomIndex])) {
                questions.push(allQuestions[randomIndex]);
            }
        }

        showStartMessages();
        updateTopScores();
    </script>
</body>
</html>